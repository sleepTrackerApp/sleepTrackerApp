<%- include('../components/header') %>

<main class="dashboard-page">
  <div class="dash-shell">
    <div class="save-toast" id="saveToast" role="status" aria-live="polite">Saved successfully.</div>
    <section class="dash-hero">
      <div class="dash-top-row">
        <div class="dash-brand">
          <p class="dash-sub">Good Morning, <%= typeof displayName !== 'undefined' && displayName ? displayName : 'Mi Vo' %></p>
        </div>
        <div class="dash-cta-group">
          <a class="dash-cta active" href="#">Log Sleep</a>
          <a class="dash-cta" href="#">Trends</a>
          <a class="dash-cta" href="#">Goals</a>
          <a class="dash-cta outline" href="/auth/logout">Sign Out</a>
        </div>
      </div>
    </section>

    <section class="dash-grid two-cols">
      <div class="dash-card">
        <div class="card-head">
          <h3>Log Last Night's Sleep</h3>
        </div>
        <div class="card-body">
          <div class="field-group">
            <label>Date</label>
            <div class="chip">Night of Dec 26, 2025</div>
          </div>
          <div class="field-group">
            <div class="chip-toggle">
              <button class="chip active">By Time</button>
              <button class="chip">By Duration</button>
            </div>
          </div>
          <div class="time-row">
            <label>Bed Time</label>
            <div class="time-chip">9:20 PM</div>
            <label>Wake Time</label>
            <div class="time-chip">6:50 AM</div>
          </div>
          <div class="rate-row">
            <label>Rate Your Sleep</label>
            <div class="dots">
              <span class="dot filled"></span><span class="dot filled"></span><span class="dot filled"></span><span class="dot"></span><span class="dot"></span>
            </div>
          </div>
          <div class="card-actions">
            <a class="btn-ghost" href="#">View Summary</a>
          </div>
        </div>
      </div>

      <div class="dash-card">
        <div class="card-head">
          <h3>Preview Your Sleep Log</h3>
        </div>
        <div class="card-body">
          <div class="field-group">
            <label>Total Sleep</label>
            <div class="total-pill">8 hrs 30 mins</div>
          </div>
          <div class="field-group">
            <label>Time Window</label>
            <p class="muted">10:00 PM - 06:30 AM</p>
          </div>
          <div class="field-group">
            <label>Sleep Quality</label>
            <p class="muted">87/100 - Good</p>
            <p class="note">Once saved, this cannot be edited.</p>
          </div>
          <div class="card-actions space">
            <a class="btn-ghost" href="#">Cancel</a>
            <a class="btn-primary js-confirm-save" href="#">Confirm and Save</a>
          </div>
        </div>
      </div>
    </section>

    <section class="dash-block">
      <h2 class="section-title">Your Sleep Trends</h2>
      <div class="tab-bar">
        <button class="tab active">Weekly</button>
        <button class="tab">Monthly</button>
      </div>
      <div class="trend-card">
        <div class="trend-graph">
          <div class="bars">
            <div class="bar" style="height: 68%"><span>Mon</span></div>
            <div class="bar" style="height: 84%"><span>Tue</span></div>
            <div class="bar" style="height: 62%"><span>Wed</span></div>
            <div class="bar" style="height: 80%"><span>Thu</span></div>
            <div class="bar" style="height: 58%"><span>Fri</span></div>
            <div class="bar" style="height: 76%"><span>Sat</span></div>
            <div class="bar" style="height: 70%"><span>Sun</span></div>
          </div>
        </div>
        <div class="trend-summary">
          <div>
            <h4>Weekly Summary</h4>
            <ul>
              <li><strong>Average Duration:</strong> 7.5h</li>
              <li><strong>Longest Rest:</strong> 9.2h (Sat)</li>
              <li><strong>Shortest Sleep:</strong> 6.0h (Mon)</li>
            </ul>
          </div>
          <div>
            <h4>Insights</h4>
            <ul>
              <li><strong>Recovery:</strong> Sleep debt reduced 19 mins.</li>
              <li><strong>Consistency:</strong> 5/7 nights within 40 mins window.</li>
              <li><strong>Recommendation:</strong> Aim lights-out by 10:20 PM.</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <section class="dash-block goals">
      <h2 class="section-title">Your Sleep Goals</h2>
      <div class="dash-grid two-cols">
        <div class="dash-card">
          <div class="card-head"><h3>Monthly Goal Settings</h3></div>
          <div class="card-body">
            <p class="muted">December 2025</p>
            <p class="goal-value">8 hrs / night</p>
            <p class="status ok">Active and locked</p>
            <p class="muted">Set on Dec 1 â€¢ Cannot change until Jan 1</p>
            <div class="divider"></div>
            <div class="next-goal">
              <p class="muted">Next Month Goal (Jan 2026)</p>
              <div class="radio-row">
                <label><input type="radio" checked> Continue Current Goal</label>
                <label><input type="radio"> Change Goal</label>
              </div>
              <div class="chip">8h 30m</div>
            </div>
            <div class="card-actions">
              <a class="btn-primary js-confirm-save" href="#">Confirm and Save</a>
            </div>
          </div>
        </div>

        <div class="dash-card">
          <div class="card-head"><h3>December Progress</h3></div>
          <div class="card-body progress-card">
            <div class="progress-ring">
              <div class="ring">26 / 31</div>
              <p class="muted">Nights</p>
            </div>
            <div class="progress-meta">
              <div class="meta-row"><span>Goal Met This Month</span><strong>72%</strong></div>
              <div class="meta-row"><span>Monthly Average</span><strong>7h 35m</strong> <small>(needs improvement)</small></div>
              <div class="meta-row"><span>Projected Success</span><strong>~70%</strong></div>
              <p class="note">Keep pushing for that 8-hour streak!</p>
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>
</main>

<%- include('../components/footer') %>

